<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Toggle Button</title>
    <style media="screen">
      body {font-family:sans-serif; line-height:1.5}
      input {display:block;}
      label span, .inputInstructions {display:block;color:#666;font-style:italic;font-weight:normal;}
      form {margin:2em .5em;border:0px solid #666;padding:1em;}
      label {font-weight:bold;font-size:.85em;}
      #t1 label span {color:rgba(0,0,0,0); display:inline;}
      q {display:block;padding:1em;background:#eee;margin:1em;}
      li {margin-bottom:1em;}
      button {font-size:1.25em;}
      [aria-pressed="true"] {font-weight:bold}
      [aria-label~="selected"] {font-weight:bold}
    </style>
  </head>
    <body>
        <header>
            <h1>Example toggle button</h1>
            <p>Using button with aria-pressed</p>
        </header>
        <main>
            <form action="#" method="get">
                <h2>Toggle aria-pressed</h2>
                <p>Javascript toggles the aria-pressed between true and false.   Pressed state is shown visually as old text using [aria-pressed="true"].
                <ul>
                  <li>
                    <button id="fruit" class="show-hide__button" type="button" onclick="togglePress(this)" aria-pressed="false" value="Off">Fruit</button>
                  </li>
                  <li>
                    <button id="vegetables" class="show-hide__button" type="button" onclick="togglePress(this)" aria-pressed="false" value="Off">Vegetables</button>
                  </li>
                </ul>

                <h2>Toggle  aria-label</h2>
              <p>Javascript toggle the aria-label values. The aria label switches between [name]+"unselected" and [name]+"selected". The selected visual style is bold using CSS selector.</p>
                <ul>
                  <li>
                    <button id="food" class="show-hide__button" type="button" onclick="togglePressLabel(this)" aria-label="Food unselected">Food</button>
                  </li>
                  <li>
                    <button id="travel" class="show-hide__button" type="button" onclick="togglePressLabel(this)" aria-label="Travel unselected">Travel</button>
                  </li>
                </ul>
              
                <h2>Toggle w/ checkboxes</h2>
              <p>Simple unadorned checkboxes</p>
              <fieldset>
                <legend>Filter on</legend>
                <ul>
                  <li>
                    <label><input id="liquids" type="checkbox">Liquids</label>
                  </li>
                  <li>
                    <label><input id="solids" type="checkbox">Solids</label>
                  </li>
                </ul>
              </fieldset>
            </form>
        </main>
        <script>

            function togglePress (e) {
                if (e.ariaPressed=="false") {
                    // toggle button state and label ON
                    e.setAttribute("aria-pressed", "true");
                } else {
                    // toggle button state and label OFF
                    e.setAttribute("aria-pressed", "false");
                }
            }

            function togglePressLabel (e) {
                var lbl = e.textContent;
                var state;
                if (e.ariaPressed=="false") {
                    // toggle button state and label ON
                    name = "selected";
                    state = "true";
                } else {
                    // toggle button state and label OFF
                    name = "unselected";
                    state = "false";
                }
            
                e.setAttribute("aria-label", lbl+name)
            }

        </script>
    </body>
</html>

